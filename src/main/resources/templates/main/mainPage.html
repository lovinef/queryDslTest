<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/webjars/bootstrap/4.4.1/css/bootstrap.min.css"/>
    <script src="/webjars/jquery/3.4.1/dist/jquery.min.js"></script>
    <script src="/webjars/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<h1>this is main page</h1>
<!--<span th:text="${loginMember.getUsername()}"></span><br/>-->
<!--<span th:text="${loginMember.getMemberId()}"></span><br/>-->
<a onclick="getMyOrders()">getMembers</a>
<table id="members"></table>
<a href="/logout" title="logout">logout</a>
<script>
    // on ready
    $(function() {

    });
    // on load
    $(window).on('load', function (e) {

    });

    function getMemberList(){
        $.ajax({
            url : "/rest/getMembers"
        }).done(function(data){
            var innerHtml = "";
            var memberDto = data.result;
            for (var i = 0; i < memberDto.length; i++) {
                innerHtml +=
                    "<tr>" +
                    "<td>" + memberDto[i].name + "</td>" +
                    "<td>" + memberDto[i].age + "</td>" +
                    "</tr>";
            }
            $("#members").html(innerHtml);
            console.log(data);
        });
    }
    function getMyOrders(){
        $.ajax({
            url : "/rest/list/orders/" + 13
            ,data:{
                "testData" : "testdata is is"
            }
        }).done(function(data){
            var innerHtml = "";
            var ordersDto = data;
            for (var i = 0; i < ordersDto.length; i++) {
                innerHtml +=
                    "<tr>" +
                    "<td>" + ordersDto[i].id + "</td>" +
                    "<td>" + ordersDto[i].name + "</td>" +
                    "<td>" + ordersDto[i].orderCnt + "</td>" +
                    "<td>" + ordersDto[i].orderDate + "</td>" +
                    "</tr>";
            }
            $("#members").html(innerHtml);
            console.log(data);
        });
    }
</script>
</body>
</html>